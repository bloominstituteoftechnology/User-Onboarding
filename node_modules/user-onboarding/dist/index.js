parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"OmAK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=exports.h=r,exports.cloneElement=s,exports.createRef=j,exports.Component=R,exports.render=H,exports.rerender=d,exports.options=exports.default=void 0;var e=function(){},t={};exports.options=t;var n=[],o=[];function r(r,i){var l,a,s,p,c=o;for(p=arguments.length;p-- >2;)n.push(arguments[p]);for(i&&null!=i.children&&(n.length||n.push(i.children),delete i.children);n.length;)if((a=n.pop())&&void 0!==a.pop)for(p=a.length;p--;)n.push(a[p]);else"boolean"==typeof a&&(a=null),(s="function"!=typeof r)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(s=!1)),s&&l?c[c.length-1]+=a:c===o?c=[a]:c.push(a),l=s;var u=new e;return u.nodeName=r,u.children=c,u.attributes=null==i?void 0:i,u.key=null==i?void 0:i.key,void 0!==t.vnode&&t.vnode(u),u}function i(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var a="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function s(e,t){return r(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var p=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,c=[];function u(e){!e._dirty&&(e._dirty=!0)&&1==c.push(e)&&(t.debounceRendering||a)(d)}function d(){for(var e;e=c.pop();)e._dirty&&D(e)}function f(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&v(e,t.nodeName):n||e._componentConstructor===t.nodeName}function v(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function _(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)l(n,null),l(o,e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===p.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,b,a):e.removeEventListener(t,b,a),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(c){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var s=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function b(e){return this._listeners[e.type](t.event&&t.event(e)||e)}var x=[],g=0,C=!1,N=!1;function w(){for(var e;e=x.shift();)t.afterMount&&t.afterMount(e),e.componentDidMount&&e.componentDidMount()}function k(e,t,n,o,r,i){g++||(C=null!=r&&void 0!==r.ownerSVGElement,N=null!=e&&!("__preactattr_"in e));var l=S(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--g||(N=!1,i||w()),l}function S(e,t,n,o,r){var i=e,l=C;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),P(e,!0))),i.__preactattr_=!0,i;var a=t.nodeName;if("function"==typeof a)return V(e,t,n,o);if(C="svg"===a||"foreignObject"!==a&&C,a=String(a),(!e||!v(e,a))&&(i=_(a,C),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),P(e,!0)}var s=i.firstChild,p=i.__preactattr_,c=t.children;if(null==p){p=i.__preactattr_={};for(var u=i.attributes,d=u.length;d--;)p[u[d].name]=u[d].value}return!N&&c&&1===c.length&&"string"==typeof c[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=c[0]&&(s.nodeValue=c[0]):(c&&c.length||null!=s)&&U(i,c,n,o,N||null!=p.dangerouslySetInnerHTML),L(i,t.attributes,p),C=l,i}function U(e,t,n,o,r){var i,l,a,s,p,c=e.childNodes,u=[],d={},v=0,m=0,_=c.length,y=0,b=t?t.length:0;if(0!==_)for(var x=0;x<_;x++){var g=c[x],C=g.__preactattr_;null!=(N=b&&C?g._component?g._component.__key:C.key:null)?(v++,d[N]=g):(C||(void 0!==g.splitText?!r||g.nodeValue.trim():r))&&(u[y++]=g)}if(0!==b)for(x=0;x<b;x++){var N;if(p=null,null!=(N=(s=t[x]).key))v&&void 0!==d[N]&&(p=d[N],d[N]=void 0,v--);else if(m<y)for(i=m;i<y;i++)if(void 0!==u[i]&&f(l=u[i],s,r)){p=l,u[i]=void 0,i===y-1&&y--,i===m&&m++;break}p=S(p,s,n,o),a=c[x],p&&p!==e&&p!==a&&(null==a?e.appendChild(p):p===a.nextSibling?h(a):e.insertBefore(p,a))}if(v)for(var x in d)void 0!==d[x]&&P(d[x],!1);for(;m<=y;)void 0!==(p=u[y--])&&P(p,!1)}function P(e,t){var n=e._component;n?A(n):(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||h(e),B(e))}function B(e){for(e=e.lastChild;e;){var t=e.previousSibling;P(e,!0),e=t}}function L(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||y(e,o,n[o],n[o]=void 0,C);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||y(e,o,n[o],n[o]=t[o],C)}var M=[];function T(e,t,n){var o,r=M.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),R.call(o,t,n)):((o=new R(t,n)).constructor=e,o.render=E);r--;)if(M[r].constructor===e)return o.nextBase=M[r].nextBase,M.splice(r,1),o;return o}function E(e,t,n){return this.constructor(e,n)}function W(e,n,o,r,i){e._disable||(e._disable=!0,e.__ref=n.ref,e.__key=n.key,delete n.ref,delete n.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==o&&(1!==o&&!1===t.syncComponentUpdates&&e.base?u(e):D(e,1,i)),l(e.__ref,e))}function D(e,n,o,r){if(!e._disable){var l,a,s,p=e.props,c=e.state,u=e.context,d=e.prevProps||p,f=e.prevState||c,v=e.prevContext||u,_=e.base,h=e.nextBase,y=_||h,b=e._component,C=!1,N=v;if(e.constructor.getDerivedStateFromProps&&(c=i(i({},c),e.constructor.getDerivedStateFromProps(p,c)),e.state=c),_&&(e.props=d,e.state=f,e.context=v,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(p,c,u)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(p,c,u),e.props=p,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){l=e.render(p,c,u),e.getChildContext&&(u=i(i({},u),e.getChildContext())),_&&e.getSnapshotBeforeUpdate&&(N=e.getSnapshotBeforeUpdate(d,f));var S,U,B=l&&l.nodeName;if("function"==typeof B){var L=m(l);(a=b)&&a.constructor===B&&L.key==a.__key?W(a,L,1,u,!1):(S=a,e._component=a=T(B,L,u),a.nextBase=a.nextBase||h,a._parentComponent=e,W(a,L,0,u,!1),D(a,1,o,!0)),U=a.base}else s=y,(S=b)&&(s=e._component=null),(y||1===n)&&(s&&(s._component=null),U=k(s,l,u,o||!_,y&&y.parentNode,!0));if(y&&U!==y&&a!==b){var M=y.parentNode;M&&U!==M&&(M.replaceChild(U,y),S||(y._component=null,P(y,!1)))}if(S&&A(S),e.base=U,U&&!r){for(var E=e,V=e;V=V._parentComponent;)(E=V).base=U;U._component=E,U._componentConstructor=E.constructor}}for(!_||o?x.push(e):C||(e.componentDidUpdate&&e.componentDidUpdate(d,f,N),t.afterUpdate&&t.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);g||r||w()}}function V(e,t,n,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,s=a,p=m(t);r&&!s&&(r=r._parentComponent);)s=r.constructor===t.nodeName;return r&&s&&(!o||r._component)?(W(r,p,3,n,o),e=r.base):(i&&!a&&(A(i),e=l=null),r=T(t.nodeName,p,n),e&&!r.nextBase&&(r.nextBase=e,l=null),W(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,P(l,!1))),e}function A(e){t.beforeUnmount&&t.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?A(o):n&&(null!=n.__preactattr_&&l(n.__preactattr_.ref,null),e.nextBase=n,h(n),M.push(e),B(n)),l(e.__ref,null)}function R(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function H(e,t,n){return k(n,e,{},!1,t,!1)}function j(){return{}}i(R.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),u(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),D(this,2)},render:function(){}});var z={h:r,createElement:r,cloneElement:s,createRef:j,Component:R,render:H,rerender:d,options:t},F=z;exports.default=F;
},{}],"/epY":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(r,o)};return function(r,o){function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("preact"),o=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return t(e,o),e.prototype.render=function(){var t=this.props.data,o=t.content,e=t.leftOffset,n=t.topOffset,i={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"16px",marginTop:n&&n+"px",marginLeft:e&&e+"px",minWidth:"200px",width:t.width,border:"1px solid #ECECEC",borderRadius:"4px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.39)",background:"#fff"};return r.h("div",{style:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0"}},r.h("div",{style:i},r.h("div",{dangerouslySetInnerHTML:{__html:o}}),this.props.progressChild&&r.h("footer",{style:{marginTop:"16px",textAlign:"right"}},this.props.progressChild)))},e}(r.Component);exports.StepNotice=o;
},{"preact":"OmAK"}],"Ir5+":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("preact"),n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return t(r,n),r.prototype.componentDidMount=function(){document.body.style.overflow="hidden",document.body.style.height="100vh",document.body.style.width="100vw"},r.prototype.componentWillUnmount=function(){document.body.style.overflow="auto",document.body.style.height="auto",document.body.style.width="auto"},r.prototype.getOffset=function(){var t=this.props,o=t.targetDom,e=t.area;return o?o.getBoundingClientRect():e||void 0},r.prototype.render=function(){var t=this.getOffset(),n={position:"absolute",background:"rgba(0,0,0,.5)",pointerEvents:"initial"};return e.h("div",{style:{position:"fixed",left:0,top:0,height:"100vh",width:"100vw",zIndex:1e3,pointerEvents:"none"}},t?[e.h("div",{key:"1",style:o({},n,{top:0,left:0,right:0,height:t.top})}),e.h("div",{key:"2",style:o({},n,{top:t.top,left:t.right,right:0,height:t.bottom-t.top})}),e.h("div",{key:"3",style:o({},n,{top:t.bottom,left:0,right:0,bottom:0})}),e.h("div",{key:"4",style:o({},n,{top:t.top,left:0,width:t.left,height:t.bottom-t.top})})]:e.h("div",{style:o({},n,{top:0,left:0,right:0,bottom:0})}))},r}(e.Component);exports.Mask=n;
},{"preact":"OmAK"}],"ly2v":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var o,e=1,r=arguments.length;e<r;e++)for(var n in o=arguments[e])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("preact"),r=require("../../mask"),n=function(t,o){return{top:{anchor:{x:o/2,y:0},offset:{x:"-50%",y:"-100%"}},left:{anchor:{x:0,y:t/2},offset:{x:"-100%",y:"-50%"}},right:{anchor:{x:o,y:t/2},offset:{x:"0",y:"-50%"}},bottom:{anchor:{x:o/2,y:t},offset:{x:"-50%",y:"0"}},bottomLeft:{anchor:{x:0,y:t},offset:{x:"-80%",y:"0"}}}},i="left",p=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return t(a,p),a.prototype.getFocusArea=function(){var t=this.props.data.selector,o={top:null,right:null,bottom:null,left:null};return("string"==typeof t?[t]:t).forEach(function(t,e){var r=document.querySelector(t);if(!r)return null;var n=r.getBoundingClientRect();0===e?(o.top=n.top,o.right=n.right,o.bottom=n.bottom,o.left=n.left):(o.top=Math.min(o.top,n.top),o.right=Math.max(o.right,n.right),o.left=Math.min(o.left,n.left),o.bottom=Math.max(o.bottom,n.bottom))}),o},a.prototype.render=function(){var t=this.props.data,p=t.position,a=void 0===p?i:p,f=this.getFocusArea(),s=n(f.bottom-f.top,f.right-f.left)[a],l={position:"fixed",zIndex:"1000",top:f.top+s.anchor.y,left:f.left+s.anchor.x},h={transform:"translate("+s.offset.x+", "+s.offset.y+")"},c=o({position:"relative",padding:"16px",background:"#fff",width:t.width,borderRadius:"4px",pointerEvents:"initial"},"top"===a&&{transform:"translateY(-16px)"},"left"===a&&{marginRight:"16px"},"right"===a&&{marginLeft:"16px"},"bottom"===a&&{marginTop:"16px"},"bottomLeft"===a&&{marginTop:"16px"}),u=o({content:"",position:"absolute",height:"8px",width:"8px",background:"#fff",transform:"rotate(45deg)"},"top"===a&&{bottom:"-4px",left:"calc(50% - 4px)"},"left"===a&&{top:"calc(50% - 4px)",right:"-4px"},"right"===a&&{top:"calc(50% - 4px)",left:"-4px"},"bottom"===a&&{top:"-4px",left:"calc(50% - 4px)"},"bottomLeft"===a&&{top:"-4px",left:"calc(80% - 4px)"});return e.h("div",null,e.h(r.Mask,{area:f}),e.h("div",{"data-name":"anchor",style:l},e.h("div",{"data-name":"offset",style:h},e.h("div",{"data-name":"content",style:c},e.h("div",{style:u}),e.h("div",{dangerouslySetInnerHTML:{__html:t.content}}),this.props.progressChild&&e.h("footer",{style:{marginTop:"8px",textAlign:"right"}},this.props.progressChild)))))},a}(e.Component);exports.StepFocus=p;
},{"preact":"OmAK","../../mask":"Ir5+"}],"0vDY":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++)for(var c in e=arguments[r])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("preact");exports.Left=function(r){return e.h("svg",t({viewBox:"0 0 1024 1024"},r),e.h("defs",null,e.h("style",{type:"text/css"})),e.h("path",{d:"M724.4 895.7c-9.6 0-19.3-3.2-27.4-9.6L273.2 545.2c-10.3-8.3-16.3-20.8-16.3-34.1 0-13.2 6-25.8 16.3-34l422-339.1c18.8-15.1 46.3-12.1 61.4 6.7 15.1 18.8 12.1 46.3-6.7 61.4l-379.6 305L751.8 818c18.8 15.1 21.8 42.6 6.7 61.4-8.7 10.7-21.3 16.3-34.1 16.3z","p-id":"8085"}))},exports.Right=function(r){return e.h("svg",t({viewBox:"0 0 1024 1024"},r),e.h("defs",null,e.h("style",{type:"text/css"})),e.h("path",{d:"M300.6 895.7c9.6 0 19.3-3.2 27.4-9.6l423.8-340.9c10.3-8.3 16.3-20.8 16.3-34.1 0-13.2-6-25.8-16.3-34L329.8 138c-18.8-15.1-46.3-12.1-61.4 6.7-15.1 18.8-12.1 46.3 6.7 61.4l379.6 305.1L273.2 818c-18.8 15.1-21.8 42.6-6.7 61.4 8.7 10.7 21.3 16.3 34.1 16.3z","p-id":"8194"}))};
},{"preact":"OmAK"}],"mmLF":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("preact"),r=require("./svg"),n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={index:0},t.handlePre=function(){var e=t.state.index-1;t.setState({index:e})},t.handleNext=function(){var e=t.state.index+1;t.setState({index:e})},t.handleFinish=function(){t.props.onNext()},t}return t(i,n),Object.defineProperty(i.prototype,"currentCarouselChild",{get:function(){var t=this.props.data.children[this.state.index];return e.h("img",{src:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isTheFirst",{get:function(){return 0===this.state.index},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isTheLast",{get:function(){return this.state.index===this.props.data.children.length-1},enumerable:!0,configurable:!0}),i.prototype.render=function(){var t=this.props.data,n=t.topOffset,i=t.leftOffset,o={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"16px",minWidth:"200px",width:t.width,marginTop:n&&n+"px",marginLeft:i&&i+"px",border:"1px solid #ECECEC",borderRadius:"4px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.39)",background:"#fff"},s={position:"absolute",top:"50%",right:"-50px",width:"24px",height:"24px",transform:"translateY(-50%)",cursor:"pointer",fill:"#ccc"};return e.h("div",{style:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0"}},e.h("div",{style:o},!this.isTheFirst&&e.h(r.Left,{style:{position:"absolute",top:"50%",left:"-50px",width:"24px",height:"24px",transform:"translateY(-50%)",cursor:"pointer",fill:"#ccc"},onClick:this.handlePre}),this.currentCarouselChild,this.isTheLast?e.h("span",{style:s,onClick:this.handleFinish},"完成"):e.h(r.Right,{style:s,onClick:this.handleNext})))},i}(e.Component);exports.StepCarousel=n;
},{"preact":"OmAK","./svg":"0vDY"}],"lKGG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./notice");exports.StepNotice=e.StepNotice;var r=require("./focus");exports.StepFocus=r.StepFocus;var t=require("./carousel");exports.StepCarousel=t.StepCarousel;
},{"./notice":"/epY","./focus":"ly2v","./carousel":"mmLF"}],"o/U+":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var o=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*c;case"weeks":case"week":case"w":return o*n;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*e;case"seconds":case"second":case"secs":case"sec":case"s":return o*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function o(n){var c=Math.abs(n);return c>=a?i(n,c,a,"day"):c>=r?i(n,c,r,"hour"):c>=e?i(n,c,e,"minute"):c>=s?i(n,c,s,"second"):n+" ms"}function i(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&!1===isNaN(s))return e.long?o(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"Kest":[function(require,module,exports) {
function e(e){function n(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function t(e){let o;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date),r=s-(o||s);n.diff=r,n.prev=o,n.curr=s,o=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];s=o.call(n,t),e.splice(a,1),a--}return s}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,i.extend=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function r(e,n){const s=t(this.namespace+(void 0===n?":":n)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=require("ms"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=n,t.enable(t.load()),t}module.exports=e;
},{"ms":"o/U+"}],"KIG8":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"jcLW":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let C=0,t=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(C++,"%c"===e&&(t=C))}),e.splice(t,0,o)}function t(...e){return"object"==typeof console&&console.log&&console.log(...e)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function n(){let o;try{o=exports.storage.getItem("debug")}catch(C){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function s(){try{return localStorage}catch(e){}}exports.log=t,exports.formatArgs=C,exports.save=r,exports.load=n,exports.useColors=o,exports.storage=s(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);const{formatters:F}=module.exports;F.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"Kest","process":"KIG8"}],"O0Wb":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("debug")),n=r.default("onboarding");function o(t){return function(){return function(){var e=this;this.default=n.extend(t),this.log=this.default.extend("log"),this.info=this.default.extend("info"),this.warn=this.default.extend("warn"),this._error=this.default.extend("error"),this.error=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];console.error.apply(console,[t].concat(r)),e._error.apply(e,[t].concat(r))}}}()}var i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(o("normal"));exports.normalDebug=new i;
},{"debug":"jcLW"}],"ZShz":[function(require,module,exports) {
var define;
var t;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(e,o){"object"==("undefined"==typeof exports?"undefined":n(exports))&&"undefined"!=typeof module?o(exports,require("preact")):"function"==typeof t&&t.amd?t(["exports","preact"],o):o((e=e||self).preactContext={},e.preact)}(this,function(t,n){"use strict";var e={register:function(t){console.warn("Consumer used without a Provider")},unregister:function(t){},val:function(t){}};function o(t){var n=t.children;return{child:1===n.length?n[0]:null,children:n}}var r,i=window&&window.__extends||(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});function u(t){return o(t).child||"render"in t&&t.render}var c=1073741823,p=function(){return c},s=0;function f(t,r){var f="_preactContextProvider-"+s++;return{Provider:function(t){function e(n){var e=t.call(this,n)||this;return e.t=function(t,n){var e=[],o=t,r=function(t){return 0|n(o,t)};return{register:function(t){e.push(t),t(o,r(o))},unregister:function(t){e=e.filter(function(n){return n!==t})},val:function(t){if(void 0===t||t==o)return o;var n=r(t);return o=t,e.forEach(function(e){return e(t,n)}),o}}}(n.value,r||p),e}return i(e,t),e.prototype.getChildContext=function(){var t;return(t={})[f]=this.t,t},e.prototype.componentDidUpdate=function(){this.t.val(this.props.value)},e.prototype.render=function(){var t=o(this.props),e=t.child,r=t.children;return e||n.h("span",null,r)},e}(n.Component),Consumer:function(n){function o(e,o){var r=n.call(this,e,o)||this;return r.i=function(t,n){var e=r.props.unstable_observedBits,o=null==e?c:e;0!=((o|=0)&n)&&r.setState({value:t})},r.state={value:r.u().val()||t},r}return i(o,n),o.prototype.componentDidMount=function(){this.u().register(this.i)},o.prototype.shouldComponentUpdate=function(t,n){return this.state.value!==n.value||u(this.props)!==u(t)},o.prototype.componentWillUnmount=function(){this.u().unregister(this.i)},o.prototype.componentDidUpdate=function(t,n,o){var r=o[f];r!==this.context[f]&&((r||e).unregister(this.i),this.componentDidMount())},o.prototype.render=function(){var t="render"in this.props&&this.props.render,n=u(this.props);if(t&&t!==n&&console.warn("Both children and a render function are defined. Children will be used"),"function"==typeof n)return n(this.state.value);console.warn("Consumer is expecting a function as one and only child but didn't find any")},o.prototype.u=function(){return this.context[f]||e},o}(n.Component)}}var a=f;t.default=f,t.createContext=a,Object.defineProperty(t,"__esModule",{value:!0})});
},{"preact":"OmAK"}],"tkOF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("preact-context");exports.ThemeContext=e.createContext({});
},{"preact-context":"ZShz"}],"xmQ3":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])})(r,n)};return function(r,n){function e(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("preact"),e=require("../provider/theme"),o=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return t(i,o),i.prototype.render=function(){var t=this.props,o=t.onClick,i=t.children,u=t.style;return n.h(e.ThemeContext.Consumer,null,function(t){var e=r({display:"inline-block",padding:"6px",lineHeight:"1",color:"#fff",background:t&&t.brandColor,cursor:"pointer"},u);return n.h("div",{onClick:o,style:e},i)})},i}(n.Component);exports.Button=o;
},{"preact":"OmAK","../provider/theme":"tkOF"}],"BHXf":[function(require,module,exports) {
"use strict";function e(e,t){var n=setInterval(e,t);return function(){clearInterval(n)}}function t(e,t,n){return void 0===n&&(n=window),n.addEventListener(t,e),function(){n.removeEventListener(t,e)}}function n(e,t){for(var n=e;n;n=n.parentElement)if(n===t)return!0;return!1}function r(e,t,n){var r;return function(){var o=this,i=arguments,u=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),u&&e.apply(o,i)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeIntervalPoll=e,exports.makeEventListener=t,exports.isEqualOrChild=n,exports.debounce=r;
},{}],"PIYc":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("preact"),r=require("../../debug"),o=require("../button"),i=require("../../util");function s(t){return function(r){var o={position:"relative",zIndex:r.data.zIndex};return n.h("div",{style:o},n.h(t,e({},r)))}}function u(o){return function(i){function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.state={isOk:!t.props.data.waitUntil},t}return t(s,i),s.prototype.componentDidMount=function(){var t=this.startWait().stop;this.stopWait=t},s.prototype.componentWillUnmount=function(){this.stopWait&&this.stopWait()},s.prototype.startWait=function(){var t=this,e=this.props.data.waitUntil,n=function(e){e||t.setState({isOk:!0})},o=[];if(!e)return this.setState({isOk:!0}),{stop:function(){}};if(e.selector){var i=this.startWaitSelector(e.selector,function(t){r.normalDebug.log("wait selector done: err=%s",t),n(t)}).stop;o.push(i),r.normalDebug.log("start wait selector: %s",e.selector)}if(e.delay){i=this.startWaitDelay(e.delay,function(t){r.normalDebug.log("wait delay done: err=%s",t),n(t)}).stop;o.push(i),r.normalDebug.log("start wait delay: %s ms",e.delay)}return{stop:function(){o.forEach(function(t){return t()})}}},s.prototype.startWaitSelector=function(t,e){if(document.querySelector(t))return e(null),{stop:function(){}};var n=setInterval(function(){if(document.querySelector(t))return clearInterval(n),e(null)},300);return{stop:function(){return clearInterval(n)}}},s.prototype.startWaitDelay=function(t,e){var n=setTimeout(function(){return e(null)},t);return{stop:function(){return clearTimeout(n)}}},s.prototype.render=function(){return this.state.isOk?n.h(o,e({},this.props)):null},s}(n.Component)}function p(s){return function(u){function p(){var t=null!==u&&u.apply(this,arguments)||this;return t.handleCancel=function(){t.props.onCancel&&t.props.onCancel()},t.handleNext=function(){t.props.onNext&&t.props.onNext()},t}return t(p,u),p.prototype.componentDidMount=function(){var t=this.startBind().stop;this.cancelBind=t},p.prototype.componentWillUnmount=function(){this.cancelBind&&this.cancelBind()},p.prototype.startBind=function(){var t=this,e=this.props.data.nextStepTrigger,n=[];if(e){var o=this.startBindNextStepTrigger(e,function(e){r.normalDebug.log("bind nextStepTrigger done: err=%s",e),function(e){e||t.setState({isOk:!0})}(e)}).stop;n.push(o),r.normalDebug.log("start bind nextStepTrigger: %s",e)}return{stop:function(){n.forEach(function(t){return t()})}}},p.prototype.startBindNextStepTrigger=function(t,e){var n=this,o=function(e){var o=e.target,s=document.querySelector(t);s&&i.isEqualOrChild(o,s)&&(r.normalDebug.log("nextStepTrigger clicked: selector=%s",t),n.handleNext())};return document.body.addEventListener("click",o),e(null),{stop:function(){return document.body.removeEventListener("click",o)}}},p.prototype.getProgressChild=function(){var t=this.props.data.nextStepTrigger,e=this.props.stepIndex+1===this.props.stepTotal;return[n.h(o.Button,{key:"1",onClick:this.handleCancel,style:{background:"#ccc"}},"退出"),t?null:n.h(o.Button,{key:"2",onClick:this.handleNext,style:{marginLeft:"16px"}},e?"完成":"下一步")]},p.prototype.render=function(){var t=this.getProgressChild();return n.h(s,e({},this.props,{progressChild:t}))},p}(n.Component)}function a(o){return function(s){function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.handleResize=i.debounce(function(){r.normalDebug.log("update due to resize"),t.forceUpdate()},500),t}return t(u,s),u.prototype.componentDidMount=function(){this.removeListener=i.makeEventListener(this.handleResize,"resize")},u.prototype.componentWillUnmount=function(){this.removeListener&&this.removeListener()},u.prototype.render=function(){return n.h(o,e({},this.props))},u}(n.Component)}function c(t){return[u,s,p,a].reduceRight(function(t,e){return e(t)},t)}exports.withStepZIndex=s,exports.withStepWaitUntil=u,exports.withStepProgress=p,exports.withResizeUpdate=a,exports.withAllStepHelper=c;
},{"preact":"OmAK","../../debug":"O0Wb","../button":"xmQ3","../../util":"BHXf"}],"Heyq":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__assign||function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("preact"),n=require("../focus"),o=require("../../../util"),a=function(a){function s(){var t=null!==a&&a.apply(this,arguments)||this;return t.clearList=[],t.lastValue="",t.state={errors:[]},t.validateValue=function(){var e=t.props.data.rules,r=t.getInputValue();if(r!==t.lastValue){var n=[];e.forEach(function(t){t.pattern&&(new RegExp(t.pattern,"m").exec(r)||n.push(new Error(t.message||"不匹配 "+t.pattern)))}),t.lastValue=r,t.setState({errors:n})}},t}return t(s,a),s.prototype.componentDidMount=function(){var t=o.makeIntervalPoll(this.validateValue,800);this.clearList.push(t)},s.prototype.componentWillUnmount=function(){this.clearList.forEach(function(t){return t()})},s.prototype.getInputValue=function(){var t=this.props.data,e=t.valueCollect,r=t.valueCollectField,n=void 0===r?"textContent":r,o=document.querySelector(e);if(o)return o[n]},s.prototype.render=function(){var t=this.props.data.content,o=this.state.errors,a=t+(o.length>0?"<br/>"+o.map(function(t){return t.message}).join("<br />"):"");return r.h(n.StepFocus,e({},this.props,{data:e({},this.props.data,{type:"focus",content:a}),progressChild:o.length?null:this.props.progressChild}))},s}(r.Component);exports.StepInputChecker=a;
},{"preact":"OmAK","../focus":"ly2v","../../../util":"BHXf"}],"owv9":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("preact"),n=require("./component/step"),o=require("./component/step/hoc"),r=require("./debug"),p=require("./component/provider/theme"),s=require("./component/step/input-checker"),i={base:null,notice:n.StepNotice,focus:n.StepFocus,carousel:n.StepCarousel,inputChecker:s.StepInputChecker};function u(e){var t=i[e];if(t)return o.withAllStepHelper(t)}var c=-1,a=function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={stepIndex:0},e.handleNext=function(){e.gotoNext()},e.handleCancel=function(){e.cancel()},e}return e(o,n),o.prototype.gotoNext=function(){var e=this.state.stepIndex+1;this.setState({stepIndex:e}),this.props.onNextStep&&this.props.onNextStep(e),r.normalDebug.log("gotoNext: stepIndex=%s",e),e>=this.props.sceneData.steps.length&&(this.props.onFinish&&this.props.onFinish(),r.normalDebug.log("scene is finish"))},o.prototype.cancel=function(){var e=c;this.setState({stepIndex:e})},o.prototype.render=function(){var e=this.props.sceneData,n=this.state.stepIndex,o=e.steps[n];if(!o)return r.normalDebug.info("currentStep is null"),null;r.normalDebug.info("currentStep: type=%s, index=%s",o.type,n);var s=u(o.type);return t.h(p.ThemeContext.Provider,{value:e.theme},s&&t.h(s,{key:n,data:o,stepIndex:n,stepTotal:e.steps.length,onNext:this.handleNext,onCancel:this.handleCancel}))},o}(t.Component);exports.App=a;
},{"preact":"OmAK","./component/step":"lKGG","./component/step/hoc":"PIYc","./debug":"O0Wb","./component/provider/theme":"tkOF","./component/step/input-checker":"Heyq"}],"gD3H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(){this.handlerMap={}}return t.prototype.subscribe=function(t,r){this.handlerMap[t]||(this.handlerMap[t]=[]);var e=this.handlerMap[t];return e.indexOf(r)<0&&e.push(r),this},t.prototype.publish=function(t,r){var e=this.handlerMap[t];return e&&e.forEach(function(e){e(t,r)}),this},t.prototype.unSubscribe=function(t,r){var e=this.handlerMap[t];return e&&(this.handlerMap[t]=e.filter(function(t){return t!==r})),this},t}();exports.PubCenter=t;
},{}],"j4zA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});
},{}],"9EL+":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(t){this.list=t}return n.prototype.getScene=function(n){return t(this,void 0,void 0,function(){var t;return e(this,function(e){return[2,(t=this.list.find(function(t){return t.name===n}))&&t.data]})})},n}();exports.default=n;
},{}],"zq9w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./adaptor/mock");exports.MockService=e.default;
},{"./adaptor/mock":"9EL+"}],"zo2T":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))(function(o,u){function i(e){try{c(t.next(e))}catch(n){u(n)}}function a(e){try{c(t.throw(e))}catch(n){u(n)}}function c(e){e.done?o(e.value):new r(function(n){n(e.value)}).then(i,a)}c((t=t.apply(e,n||[])).next())})},n=this&&this.__generator||function(e,n){var r,t,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(e,i)}catch(a){u=[6,a],t=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function r(e){for(var n in e)exports.hasOwnProperty(n)||(exports[n]=e[n])}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("preact"),o=require("./app"),u=require("./pub"),i=require("./debug");function a(e){void 0===e&&(e="user-onboarding-root-"+(new Date).valueOf());var n=document.createElement("div");return n.id=e,document.body.appendChild(n),n}function c(r){var c=this,s=a();return function(a){var l,f=new u.PubCenter,p={start:function(){return i.normalDebug.log("Onboarding start: name=%s, mount=%s",a,s.id),e(c,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,r.service.getScene(a)];case 1:return e=n.sent(),i.normalDebug.info("Onboarding data ready: name=%s, stepCnt=%s",a,e.steps.length),l=t.render(t.h(o.App,{sceneData:e,onNextStep:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return f.publish.apply(f,["nextStep"].concat(e))},onFinish:function(){return f.publish("finish")}}),s),[2]}})}),p},stop:function(){t.render(null,s,l),i.normalDebug.log("Onboarding stop")},on:function(e,n){return f.subscribe(e,n),p},off:function(e,n){return f.unSubscribe(e,n),p}};return p}}r(require("./interface")),r(require("./service")),exports.createApp=c;
},{"preact":"OmAK","./app":"owv9","./pub":"gD3H","./debug":"O0Wb","./interface":"j4zA","./service":"zq9w"}]},{},["zo2T"], null)
//# sourceMappingURL=/index.js.map