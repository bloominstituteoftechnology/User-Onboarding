{"version":3,"sources":["../src/preact.js","../src/vnode.js","../src/options.js","../src/h.js","../src/util.js","../src/clone-element.js","../src/constants.js","../src/render-queue.js","../src/vdom/index.js","../src/dom/index.js","../src/vdom/diff.js","../src/vdom/component-recycler.js","../src/vdom/component.js","../src/component.js","../src/render.js","component/step/notice/index.tsx","component/mask/index.tsx","component/step/focus/index.tsx","component/step/carousel/svg.tsx","component/step/carousel/index.tsx","component/step/index.ts","../node_modules/debug/node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/_process@0.11.10@process/browser.js","../node_modules/debug/src/browser.js","debug.ts","../node_modules/preact-context/dist/context.min.js","component/provider/theme.tsx","component/button/index.tsx","util.ts","component/step/hoc.tsx","component/step/input-checker/index.tsx","app.tsx","pub/index.ts","service/adaptor/mock.ts","service/index.ts","index.tsx"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","i","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","applyRef","ref","value","current","defer","Promise","resolve","then","bind","setTimeout","cloneElement","slice","call","NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","IS_NON_DIMENSIONAL","items","isSameNodeType","node","_componentConstructor","isNamedNode","normalizedNodeName","defaultProps","document","createElementNS","removeNode","parentNode","setAccessor","old","name","style","innerHTML","__html","useCapture","_listeners","removeChild","ns","eventProxy","mounts","diffLevel","hydrating","flushMounts","c","shift","ret","parent","componentRoot","prevSvgMode","ATTR_KEY","out","buildComponentFromVNode","vnodeName","dom","firstChild","appendChild","nodeValue","vchildren","context","mountAll","originalChildren","keyed","min","len","childrenLen","vlen","j","f","vchild","keyedLen","component","unmountOnly","next","previousSibling","diffAttributes","attrs","recyclerComponents","createComponent","Ctor","prototype","constructor","nextBase","doRender","setComponentProps","_disable","componentWillReceiveProps","prevContext","renderMode","syncComponentUpdates","previousProps","previousState","__ref","renderComponent","state","isUpdate","base","initialBase","snapshot","rendered","inst","cbase","shouldComponentUpdate","prevProps","_dirty","render","getSnapshotBeforeUpdate","childComponent","childProps","getNodeProps","initialChildComponent","baseParent","replaceChild","_component","toUnmount","componentRef","t","afterUpdate","_renderCallbacks","isChild","originalComponent","oldDom","isOwner","beforeUnmount","componentWillUnmount","callback","diff","merge","createRef","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","e","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","Item","array","noop","nextTick","args","Array","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","useColors","window","type","__nwjs","navigator","userAgent","toLowerCase","match","documentElement","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","formatArgs","namespace","humanize","color","splice","index","lastC","replace","log","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","localstorage","localStorage","colors","require","formatters","v","JSON","stringify","message","n","define","amd","self","preactContext","preact","register","warn","unregister","val","u","__extends","Object","setPrototypeOf","__proto__","hasOwnProperty","create","o","s","a","Provider","filter","forEach","getChildContext","componentDidUpdate","Component","Consumer","unstable_observedBits","setState","componentDidMount","d","default","createContext","defineProperty"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["import { h, h as createElement } from './h';\nimport { cloneElement } from './clone-element';\nimport { Component } from './component';\nimport { render } from './render';\nimport { rerender } from './render-queue';\nimport options from './options';\n\nfunction createRef() {\n\treturn {};\n}\n\nexport default {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n\nexport {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n","/**\n * Virtual DOM Node\n * @typedef VNode\n * @property {string | function} nodeName The string of the DOM node to create or Component constructor to render\n * @property {Array<VNode | string>} children The children of node\n * @property {string | number | undefined} key The key used to identify this VNode in a list\n * @property {object} attributes The properties of this VNode\n */\nexport const VNode = function VNode() {};\n","/**\n * @typedef {import('./component').Component} Component\n * @typedef {import('./vnode').VNode} VNode\n */\n\n/**\n * Global options\n * @public\n * @typedef Options\n * @property {boolean} [syncComponentUpdates] If `true`, `prop` changes trigger synchronous component updates. Defaults to true.\n * @property {(vnode: VNode) => void} [vnode] Processes all created VNodes.\n * @property {(component: Component) => void} [afterMount] Hook invoked after a component is mounted.\n * @property {(component: Component) => void} [afterUpdate] Hook invoked after the DOM is updated with a component's latest render.\n * @property {(component: Component) => void} [beforeUnmount] Hook invoked immediately before a component is unmounted.\n * @property {(rerender: function) => void} [debounceRendering] Hook invoked whenever a rerender is requested. Can be used to debounce rerenders.\n * @property {(event: Event) => Event | void} [event] Hook invoked before any Preact event listeners. The return value (if any) replaces the native browser event given to event listeners\n */\n\n/** @type {Options}  */\nconst options = {};\n\nexport default options;\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility\n * reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a\n * lightweight representation of the structure of a DOM tree. This structure can\n * be realized by recursively comparing it against the current _actual_ DOM\n * structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string | function} nodeName An element name. Ex: `div`, `a`, `span`, etc.\n * @param {object | null} attributes Any attributes/props to set on the created element.\n * @param {VNode[]} [rest] Additional arguments are taken to be children to\n *  append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n * Copy all properties from `props` onto `obj`.\n * @param {object} obj Object onto which properties should be copied.\n * @param {object} props Object from which to copy properties.\n * @returns {object}\n * @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref!=null) {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./vnode').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./vnode').VNode>} [rest] Any additional arguments will be used as replacement\n *  children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\n/** Do not re-render a component */\nexport const NO_RENDER = 0;\n/** Synchronously re-render a component and its children */\nexport const SYNC_RENDER = 1;\n/** Synchronously re-render a component, even if its lifecycle methods attempt to prevent it. */\nexport const FORCE_RENDER = 2;\n/** Queue asynchronous re-render of a component and it's children */\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n/** DOM properties that should NOT have \"px\" added when numeric */\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/**\n * Managed queue of dirty components to be re-rendered\n * @type {Array<import('./component').Component>}\n */\nlet items = [];\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./component').Component} component The component to rerender\n */\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n/** Rerender all enqueued dirty components */\nexport function rerender() {\n\tlet p;\n\twhile ( (p = items.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n * @param {import('../dom').PreactElement} node DOM Node to compare\n * @param {import('../vnode').VNode} vnode Virtual DOM node to compare\n * @param {boolean} [hydrating=false] If true, ignores component constructors\n *  when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n * @param {import('../dom').PreactElement} node A DOM Element to inspect the name of.\n * @param {string} nodeName Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {import('../vnode').VNode} vnode The VNode to get props for\n * @returns {object} The props to use for this VNode\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport { applyRef } from '../util';\nimport options from '../options';\n\n/**\n * A DOM event listener\n * @typedef {(e: Event) => void} EventListner\n */\n\n/**\n * A mapping of event types to event listeners\n * @typedef {Object.<string, EventListener>} EventListenerMap\n */\n\n/**\n * Properties Preact adds to elements it creates\n * @typedef PreactElementExtensions\n * @property {string} [normalizedNodeName] A normalized node name to use in diffing\n * @property {EventListenerMap} [_listeners] A map of event listeners added by components to this DOM node\n * @property {import('../component').Component} [_component] The component that rendered this DOM node\n * @property {function} [_componentConstructor] The constructor of the component that rendered this DOM node\n */\n\n/**\n * A DOM element that has been extended with Preact properties\n * @typedef {Element & ElementCSSInlineStyle & PreactElementExtensions} PreactElement\n */\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {PreactElement} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n\t/** @type {PreactElement} */\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {PreactElement} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\t// Attempt to set a DOM property to the given value.\n\t\t// IE & FF throw for certain property-value combinations.\n\t\ttry {\n\t\t\tnode[name] = value==null ? '' : value;\n\t\t} catch (e) { }\n\t\tif ((value==null || value===false) && name!='spellcheck') node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink:?/, '')));\n\t\t// spellcheck is treated differently than all other boolean values and\n\t\t// should not be removed when the value is `false`. See:\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { applyRef } from '../util';\nimport { removeNode } from '../dom/index';\n\n/**\n * Queue of components that have been mounted and are awaiting componentDidMount\n * @type {Array<import('../component').Component>}\n */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c = mounts.shift())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/**\n * Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing\n *  the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {Element} parent ?\n * @param {boolean} componentRoot ?\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/**\n * Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} [componentRoot] ?\n * @private\n */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/**\n * Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n * @param {import('../dom').PreactElement} dom Element whose children should be compared & mutated\n * @param {Array<import('../vnode').VNode>} vchildren Array of VNodes to compare to `dom.childNodes`\n * @param {object} context Implicitly descendant context object (from most\n *  recent `getChildContext()`)\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} isHydrating if `true`, consumes externally created elements\n *  similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/**\n * Recursively recycle (or just unmount) a node and its descendants.\n * @param {import('../dom').PreactElement} node DOM node to start\n *  unmount/removal from\n * @param {boolean} [unmountOnly=false] If `true`, only triggers unmount\n *  lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null) applyRef(node[ATTR_KEY].ref, null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/**\n * Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/**\n * Apply differences in attributes from a VNode to the given DOM Element.\n * @param {import('../dom').PreactElement} dom Element with attributes to diff `attrs` against\n * @param {object} attrs The desired end-state key-value attribute pairs\n * @param {object} old Current/previous attributes (from previous VNode or\n *  element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/**\n * Retains a pool of Components for re-use.\n * @type {Component[]}\n * @private\n */\nexport const recyclerComponents = [];\n\n\n/**\n * Create a component. Normalizes differences between PFC's and classful\n * Components.\n * @param {function} Ctor The constructor of the component to create\n * @param {object} props The initial props of the component\n * @param {object} context The initial context of the component\n * @returns {import('../component').Component}\n */\nexport function createComponent(Ctor, props, context) {\n\tlet inst, i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor===Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend, applyRef } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, recyclerComponents } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/**\n * Set a component's `props` and possibly re-render the component\n * @param {import('../component').Component} component The Component to set props on\n * @param {object} props The new props\n * @param {number} renderMode Render options - specifies how to re-render the component\n * @param {object} context The new context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n */\nexport function setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t}\n\t\telse if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode!==NO_RENDER) {\n\t\tif (renderMode===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\n\n\n/**\n * Render a Component, triggering necessary lifecycle events and taking\n * High-Order Components into account.\n * @param {import('../component').Component} component The component to render\n * @param {number} [renderMode] render mode, see constants.js for available options.\n * @param {boolean} [mountAll] Whether or not to immediately mount all components\n * @param {boolean} [isChild] ?\n * @private\n */\nexport function renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\tsnapshot = previousContext,\n\t\trendered, inst, cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/**\n * Apply the Component referenced by a VNode to the DOM.\n * @param {import('../dom').PreactElement} dom The DOM node to mutate\n * @param {import('../vnode').VNode} vnode A Component-referencing VNode\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/**\n * Remove a component from the DOM and recycle it.\n * @param {import('../component').Component} component The Component instance to unmount\n * @private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY]!=null) applyRef(base[ATTR_KEY].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n/**\n * Base Component class.\n * Provides `setState()` and `forceUpdate()`, which trigger rendering.\n * @typedef {object} Component\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components' getChildContext\n * @public\n *\n * @example\n * class MyFoo extends Component {\n *   render(props, state) {\n *     return <div />;\n *   }\n * }\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.context = context;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.props = props;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\n\nextend(Component.prototype, {\n\n\t/**\n\t * Update component state and schedule a re-render.\n\t * @param {object} state A dict of state properties to be shallowly merged\n\t * \tinto the current state, or a function that will produce such a dict. The\n\t * \tfunction is called with the current state and props.\n\t * @param {() => void} callback A function to be called once component state is\n\t * \tupdated\n\t */\n\tsetState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(\n\t\t\textend({}, this.state),\n\t\t\ttypeof state === 'function' ? state(this.state, this.props) : state\n\t\t);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/**\n\t * Immediately perform a synchronous re-render of the component.\n\t * @param {() => void} callback A function to be called after component is\n\t * \tre-rendered.\n\t * @private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/**\n\t * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t * @param {object} props Props (eg: JSX attributes) received from parent\n\t * \telement/component\n\t * @param {object} state The component's current state\n\t * @param {object} context Context object, as returned by the nearest\n\t *  ancestor's `getChildContext()`\n\t * @returns {import('./vnode').VNode | void}\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/**\n * Render JSX into a `parent` Element.\n * @param {import('./vnode').VNode} vnode A (JSX) VNode to render\n * @param {import('./dom').PreactElement} parent DOM element to render into\n * @param {import('./dom').PreactElement} [merge] Attempt to re-use an existing DOM tree rooted at\n *  `merge`\n * @public\n *\n * @example\n * // render a div into <body>:\n * render(<div id=\"hello\">hello!</div>, document.body);\n *\n * @example\n * // render a \"Thing\" component into #foo:\n * const Thing = ({ name }) => <span>{ name }</span>;\n * render(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","import { h, Component } from 'preact';\nimport { StepComponentProps } from '../../../interface';\n\nexport type Props = StepComponentProps['notice'];\n\nexport interface State {}\n\nexport class StepNotice extends Component<Props, State> {\n  render() {\n    const { content, leftOffset, topOffset, width } = this.props.data;\n\n    const wrapperStyle = {\n      position: 'fixed',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n    };\n\n    const contentStyle = {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      padding: '16px',\n      marginTop: topOffset && `${topOffset}px`,\n      marginLeft: leftOffset && `${leftOffset}px`,\n      minWidth: '200px',\n      width,\n      border: '1px solid #ECECEC',\n      borderRadius: '4px',\n      boxShadow: '0px 4px 20px rgba(0, 0, 0, 0.39)',\n      background: '#fff',\n    };\n\n    const footerStyle = {\n      marginTop: '16px',\n      textAlign: 'right',\n    };\n\n    return (\n      <div style={wrapperStyle}>\n        <div style={contentStyle}>\n          <div dangerouslySetInnerHTML={{ __html: content }} />\n\n          {this.props.progressChild && (\n            <footer style={footerStyle}>{this.props.progressChild}</footer>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import { h, Component } from 'preact';\n\nexport interface Props {\n  targetDom?: Element;\n  area?: {\n    right: number;\n    bottom: number;\n    left: number;\n    top: number;\n  };\n}\n\nexport class Mask extends Component<Props> {\n  componentDidMount() {\n    document.body.style.overflow = 'hidden';\n    document.body.style.height = '100vh';\n    document.body.style.width = '100vw';\n  }\n\n  componentWillUnmount() {\n    document.body.style.overflow = 'auto';\n    document.body.style.height = 'auto';\n    document.body.style.width = 'auto';\n  }\n\n  getOffset() {\n    const { targetDom, area } = this.props;\n\n    if (targetDom) {\n      return targetDom.getBoundingClientRect();\n    }\n\n    if (area) {\n      return area;\n    }\n  }\n\n  render() {\n    const offset = this.getOffset();\n\n    const wrapperStyle = {\n      position: 'fixed',\n      left: 0,\n      top: 0,\n      height: '100vh',\n      width: '100vw',\n      zIndex: 1000,\n      pointerEvents: 'none',\n    };\n\n    const maskCommonStyle = {\n      position: 'absolute',\n      background: 'rgba(0,0,0,.5)',\n      pointerEvents: 'initial',\n    };\n\n    return (\n      <div style={wrapperStyle}>\n        {offset ? (\n          [\n            // top\n            <div\n              key='1'\n              style={{ ...maskCommonStyle, top: 0, left: 0, right: 0, height: offset.top }}\n            />,\n\n            // right\n            <div\n              key='2'\n              style={{\n                ...maskCommonStyle,\n                top: offset.top,\n                left: offset.right,\n                right: 0,\n                height: offset.bottom - offset.top,\n              }}\n            />,\n\n            // bottom\n            <div\n              key='3'\n              style={{ ...maskCommonStyle, top: offset.bottom, left: 0, right: 0, bottom: 0 }}\n            />,\n\n            // left\n            <div\n              key='4'\n              style={{\n                ...maskCommonStyle,\n                top: offset.top,\n                left: 0,\n                width: offset.left,\n                height: offset.bottom - offset.top,\n              }}\n            />,\n          ]\n        ) : (\n          <div style={{ ...maskCommonStyle, top: 0, left: 0, right: 0, bottom: 0 }} />\n        )}\n      </div>\n    );\n  }\n}\n","import { h, Component } from 'preact';\nimport { StepComponentProps, SceneStepDef } from '../../../interface';\nimport { Mask } from '../../mask';\n\ntype SimplePositionType = SceneStepDef['focus']['position'];\n\ntype SimpleAnchorType = {\n  [key in SimplePositionType]: {\n    anchor: { x: number; y: number };\n    offset: { x: string; y: string };\n  }\n};\n\nconst makePosition = (height: number, width: number): SimpleAnchorType => ({\n  top: {\n    anchor: {\n      x: width / 2,\n      y: 0,\n    },\n    offset: {\n      x: '-50%',\n      y: '-100%',\n    },\n  },\n  left: {\n    anchor: {\n      x: 0,\n      y: height / 2,\n    },\n    offset: {\n      x: '-100%',\n      y: '-50%',\n    },\n  },\n  right: {\n    anchor: {\n      x: width,\n      y: height / 2,\n    },\n    offset: {\n      x: '0',\n      y: '-50%',\n    },\n  },\n  bottom: {\n    anchor: {\n      x: width / 2,\n      y: height,\n    },\n    offset: {\n      x: '-50%',\n      y: '0',\n    },\n  },\n  bottomLeft: {\n    anchor: {\n      x: 0,\n      y: height,\n    },\n    offset: {\n      x: '-80%',\n      y: '0',\n    },\n  },\n});\n\ntype Props = StepComponentProps['focus'];\n\nconst DEFAULT_POSITION = 'left';\n\nexport class StepFocus extends Component<Props> {\n  /** 获取聚焦点的位置 */\n  getFocusArea() {\n    const { selector } = this.props.data;\n\n    const selectorList = typeof selector === 'string' ? [selector] : selector;\n\n    const area: {\n      top: number;\n      right: number;\n      bottom: number;\n      left: number;\n    } = {\n      top: null,\n      right: null,\n      bottom: null,\n      left: null,\n    };\n\n    // selector 是数组，要循环计算所有 selector 占用的最大区域\n    selectorList.forEach((s, index) => {\n      const targetDom = document.querySelector(s);\n      if (!targetDom) return null;\n\n      const currentArea = targetDom.getBoundingClientRect();\n\n      if (index === 0) {\n        area.top = currentArea.top;\n        area.right = currentArea.right;\n        area.bottom = currentArea.bottom;\n        area.left = currentArea.left;\n      } else {\n        area.top = Math.min(area.top, currentArea.top);\n        area.right = Math.max(area.right, currentArea.right);\n        area.left = Math.min(area.left, currentArea.left);\n        area.bottom = Math.max(area.bottom, currentArea.bottom);\n      }\n    });\n\n    return area;\n  }\n\n  render() {\n    const { data } = this.props;\n    const { position = DEFAULT_POSITION } = data;\n\n    const focusArea = this.getFocusArea();\n\n    /**\n     * 这里的位置计算用了两层节点。外层是 anchor，内层是 offset。\n     * anchor 绝对定位配合 offset 位置偏移来实现 8 个定位位置。\n     */\n    const posDef = makePosition(focusArea.bottom - focusArea.top, focusArea.right - focusArea.left)[\n      position\n    ];\n\n    const anchorStyle = {\n      position: 'fixed',\n      zIndex: '1000',\n      top: focusArea.top + posDef.anchor.y,\n      left: focusArea.left + posDef.anchor.x,\n    };\n\n    const offsetStyle = {\n      transform: `translate(${posDef.offset.x}, ${posDef.offset.y})`,\n    };\n\n    const contentStyle = {\n      position: 'relative',\n      padding: '16px',\n      background: '#fff',\n      width: data.width,\n      borderRadius: '4px',\n      pointerEvents: 'initial',\n\n      ...(position === 'top' && { transform: `translateY(-16px)` }),\n      ...(position === 'left' && { marginRight: '16px' }),\n      ...(position === 'right' && { marginLeft: '16px' }),\n      ...(position === 'bottom' && { marginTop: '16px' }),\n      ...(position === 'bottomLeft' && { marginTop: '16px' }),\n    };\n\n    /** 小箭头样式 */\n    const arrowStyle = {\n      content: '',\n      position: 'absolute',\n      height: '8px',\n      width: '8px',\n      background: '#fff',\n      transform: 'rotate(45deg)',\n\n      ...(position === 'top' && {\n        bottom: '-4px',\n        left: 'calc(50% - 4px)',\n      }),\n\n      ...(position === 'left' && {\n        top: 'calc(50% - 4px)',\n        right: '-4px',\n      }),\n\n      ...(position === 'right' && {\n        top: 'calc(50% - 4px)',\n        left: '-4px',\n      }),\n\n      ...(position === 'bottom' && {\n        top: '-4px',\n        left: 'calc(50% - 4px)',\n      }),\n\n      ...(position === 'bottomLeft' && {\n        top: '-4px',\n        left: 'calc(80% - 4px)',\n      }),\n    };\n\n    const footerStyle = {\n      marginTop: '8px',\n      textAlign: 'right',\n    };\n\n    return (\n      <div>\n        <Mask area={focusArea} />\n        <div data-name='anchor' style={anchorStyle}>\n          {/* 这个 div 仅用于 offset 定位 */}\n          <div data-name='offset' style={offsetStyle}>\n            <div data-name='content' style={contentStyle}>\n              <div style={arrowStyle} />\n              <div dangerouslySetInnerHTML={{ __html: data.content }} />\n\n              {this.props.progressChild && (\n                <footer style={footerStyle}>{this.props.progressChild}</footer>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { h } from 'preact';\n\nexport const Left = props => (\n  <svg viewBox='0 0 1024 1024' {...props}>\n    <defs>\n      <style type='text/css' />\n    </defs>\n    <path\n      d='M724.4 895.7c-9.6 0-19.3-3.2-27.4-9.6L273.2 545.2c-10.3-8.3-16.3-20.8-16.3-34.1 0-13.2 6-25.8 16.3-34l422-339.1c18.8-15.1 46.3-12.1 61.4 6.7 15.1 18.8 12.1 46.3-6.7 61.4l-379.6 305L751.8 818c18.8 15.1 21.8 42.6 6.7 61.4-8.7 10.7-21.3 16.3-34.1 16.3z'\n      p-id='8085'\n    />\n  </svg>\n);\n\nexport const Right = props => (\n  <svg viewBox='0 0 1024 1024' {...props}>\n    <defs>\n      <style type='text/css' />\n    </defs>\n    <path\n      d='M300.6 895.7c9.6 0 19.3-3.2 27.4-9.6l423.8-340.9c10.3-8.3 16.3-20.8 16.3-34.1 0-13.2-6-25.8-16.3-34L329.8 138c-18.8-15.1-46.3-12.1-61.4 6.7-15.1 18.8-12.1 46.3 6.7 61.4l379.6 305.1L273.2 818c-18.8 15.1-21.8 42.6-6.7 61.4 8.7 10.7 21.3 16.3 34.1 16.3z'\n      p-id='8194'\n    />\n  </svg>\n);\n","import { h, Component } from 'preact';\nimport { StepComponentProps } from '../../../interface';\nimport { Left, Right } from './svg';\nimport { Mask } from '../../mask';\n\nexport type Props = StepComponentProps['carousel'];\n\nexport interface State {\n  index: number;\n}\n\nexport class StepCarousel extends Component<Props, State> {\n  state: State = {\n    index: 0,\n  };\n\n  get currentCarouselChild() {\n    const item = this.props.data.children[this.state.index];\n\n    // 暂时只支持 img\n    return <img src={item} />;\n  }\n\n  get isTheFirst() {\n    return this.state.index === 0;\n  }\n\n  get isTheLast() {\n    return this.state.index === this.props.data.children.length - 1;\n  }\n\n  handlePre = () => {\n    const index = this.state.index - 1;\n    this.setState({ index });\n  };\n\n  handleNext = () => {\n    const index = this.state.index + 1;\n    this.setState({ index });\n  };\n\n  handleFinish = () => {\n    this.props.onNext();\n  };\n\n  render() {\n    const { topOffset, leftOffset, width } = this.props.data;\n\n    const wrapperStyle = {\n      position: 'fixed',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n    };\n\n    const contentStyle = {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      padding: '16px',\n      minWidth: '200px',\n      width,\n      marginTop: topOffset && `${topOffset}px`,\n      marginLeft: leftOffset && `${leftOffset}px`,\n      border: '1px solid #ECECEC',\n      borderRadius: '4px',\n      boxShadow: '0px 4px 20px rgba(0, 0, 0, 0.39)',\n      background: '#fff',\n    };\n\n    const preStyle = {\n      position: 'absolute',\n      top: '50%',\n      left: '-50px',\n      width: '24px',\n      height: '24px',\n      transform: 'translateY(-50%)',\n      cursor: 'pointer',\n      fill: '#ccc',\n    };\n    const nextStyle = {\n      position: 'absolute',\n      top: '50%',\n      right: '-50px',\n      width: '24px',\n      height: '24px',\n      transform: 'translateY(-50%)',\n      cursor: 'pointer',\n      fill: '#ccc',\n    };\n\n    return (\n      <div style={wrapperStyle}>\n        <div style={contentStyle}>\n          {/* 上一个按钮 */}\n          {!this.isTheFirst && <Left style={preStyle} onClick={this.handlePre} />}\n\n          {this.currentCarouselChild}\n\n          {/* 下一个按钮 */}\n          {this.isTheLast ? (\n            <span style={nextStyle} onClick={this.handleFinish}>\n              完成\n            </span>\n          ) : (\n            <Right style={nextStyle} onClick={this.handleNext} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","export { StepNotice } from './notice';\nexport { StepFocus } from './focus';\nexport { StepCarousel } from './carousel';\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","import debug from 'debug';\n\nconst scopeDebug = debug('onboarding');\n\nfunction makeBizDebugBase(name: string) {\n  return class Base {\n    default = scopeDebug.extend(name);\n    log = this.default.extend('log');\n    info = this.default.extend('info');\n    warn = this.default.extend('warn');\n    \n    private _error = this.default.extend('error');\n    error = (formatter: any, ...args: any[]) => {\n      console.error(formatter, ...args);\n      this._error(formatter, ...args);\n    };\n  };\n}\n\nclass NormalDebug extends makeBizDebugBase('normal') {}\n\n/** 通用 debug */\nexport const normalDebug = new NormalDebug();\n","!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"preact\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"preact\"],t):t((n=n||self).preactContext={},n.preact)}(this,function(n,t){\"use strict\";var i={register:function(n){console.warn(\"Consumer used without a Provider\")},unregister:function(n){},val:function(n){}};function r(n){var t=n.children;return{child:1===t.length?t[0]:null,children:t}}var e,u=window&&window.__extends||(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function o(n){return r(n).child||\"render\"in n&&n.render}var c=1073741823,f=function(){return c},s=0;function a(n,e){var a=\"_preactContextProvider-\"+s++;return{Provider:function(n){function i(t){var i=n.call(this,t)||this;return i.t=function(n,t){var i=[],r=n,e=function(n){return 0|t(r,n)};return{register:function(n){i.push(n),n(r,e(r))},unregister:function(n){i=i.filter(function(t){return t!==n})},val:function(n){if(void 0===n||n==r)return r;var t=e(n);return r=n,i.forEach(function(i){return i(n,t)}),r}}}(t.value,e||f),i}return u(i,n),i.prototype.getChildContext=function(){var n;return(n={})[a]=this.t,n},i.prototype.componentDidUpdate=function(){this.t.val(this.props.value)},i.prototype.render=function(){var n=r(this.props),i=n.child,e=n.children;return i||t.h(\"span\",null,e)},i}(t.Component),Consumer:function(t){function r(i,r){var e=t.call(this,i,r)||this;return e.i=function(n,t){var i=e.props.unstable_observedBits,r=void 0===i||null===i?c:i;0!=((r|=0)&t)&&e.setState({value:n})},e.state={value:e.u().val()||n},e}return u(r,t),r.prototype.componentDidMount=function(){this.u().register(this.i)},r.prototype.shouldComponentUpdate=function(n,t){return this.state.value!==t.value||o(this.props)!==o(n)},r.prototype.componentWillUnmount=function(){this.u().unregister(this.i)},r.prototype.componentDidUpdate=function(n,t,r){var e=r[a];e!==this.context[a]&&((e||i).unregister(this.i),this.componentDidMount())},r.prototype.render=function(){var n=\"render\"in this.props&&this.props.render,t=o(this.props);if(n&&n!==t&&console.warn(\"Both children and a render function are defined. Children will be used\"),\"function\"==typeof t)return t(this.state.value);console.warn(\"Consumer is expecting a function as one and only child but didn't find any\")},r.prototype.u=function(){return this.context[a]||i},r}(t.Component)}}var d=a;n.default=a,n.createContext=d,Object.defineProperty(n,\"__esModule\",{value:!0})});","import { createContext } from 'preact-context';\nimport { SceneTheme } from '../../interface';\n\nexport const ThemeContext = createContext<SceneTheme>({});\n","import { h, Component } from 'preact';\nimport { ThemeContext } from '../provider/theme';\n\nexport type Props = {\n  onClick?: () => void;\n  style?: any;\n};\n\nexport interface State {}\n\n/** 按钮组件 */\nexport class Button extends Component<Props, State> {\n  render() {\n    const { onClick, children, style } = this.props;\n\n    return (\n      <ThemeContext.Consumer>\n        {theme => {\n          const btnStyle = {\n            display: 'inline-block',\n            padding: '6px',            \n            lineHeight: '1',\n            color: '#fff',\n            background: theme && theme.brandColor,\n            cursor: 'pointer',\n            ...style,\n          };\n\n          return (\n            // 为避免 button 标签带来的默认样式，所以这里用 div 来画按钮\n            <div onClick={onClick} style={btnStyle}>\n              {children}\n            </div>\n          );\n        }}\n      </ThemeContext.Consumer>\n    );\n  }\n}\n","/** 定时轮询 */\nexport function makeIntervalPoll(callback: Function, ms: number) {\n  let timer = setInterval(callback, ms);\n\n  return () => {\n    clearInterval(timer);\n  };\n}\n\nexport function makeEventListener(callback: Function, event: string, target: any = window) {\n  target.addEventListener(event, callback);\n\n  return () => {\n    target.removeEventListener(event, callback);\n  };\n}\n\nexport function isEqualOrChild(child: HTMLElement, parent: HTMLElement) {\n  for (let current = child; !!current; current = current.parentElement) {\n    if (current === parent) return true;\n  }\n\n  return false;\n}\n\nexport function debounce(func: Function, wait: number, immediate?: boolean) {\n  let timeout: any;\n\n  return function() {\n    let context = this,\n      args = arguments;\n    let later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    let callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","import { h, Component } from 'preact';\nimport { StepComponentProps } from '../../interface';\nimport { normalDebug } from '../../debug';\nimport { Button } from '../button';\nimport { Progress } from '../progress';\nimport { isEqualOrChild, makeEventListener, debounce } from '../../util';\n\ntype Props = StepComponentProps['base'];\n\nexport function withStepZIndex<T extends any>(Comp: T): T {\n  return function(props: Props) {\n    const wrapperStyle = {\n      position: 'relative',\n      zIndex: props.data.zIndex,\n    };\n\n    return (\n      <div style={wrapperStyle}>\n        <Comp {...props} />\n      </div>\n    );\n  } as any;\n}\n\nexport function withStepWaitUntil<T extends any>(Comp: T): T {\n  const NewComp = class extends Component<Props> {\n    state = {\n      // 没有 waitUntil, 则直接开始\n      isOk: !this.props.data.waitUntil,\n    };\n\n    stopWait: Function;\n\n    componentDidMount() {\n      const { stop } = this.startWait();\n      this.stopWait = stop;\n    }\n\n    componentWillUnmount() {\n      this.stopWait && this.stopWait();\n    }\n\n    startWait(): { stop: Function } {\n      const { waitUntil } = this.props.data;\n\n      const done = (err: Error) => {\n        if (err) return;\n        this.setState({ isOk: true });\n      };\n\n      const stopFunList = [];\n\n      // 没有 waitUntil, 则直接开始\n      if (!waitUntil) {\n        this.setState({ isOk: true });\n        return { stop: () => {} };\n      }\n\n      // selector\n      if (waitUntil.selector) {\n        const { stop } = this.startWaitSelector(waitUntil.selector, err => {\n          normalDebug.log('wait selector done: err=%s', err);\n          done(err);\n        });\n        stopFunList.push(stop);\n\n        normalDebug.log('start wait selector: %s', waitUntil.selector);\n      }\n\n      // delay\n      if (waitUntil.delay) {\n        const { stop } = this.startWaitDelay(waitUntil.delay, err => {\n          normalDebug.log('wait delay done: err=%s', err);\n          done(err);\n        });\n        stopFunList.push(stop);\n\n        normalDebug.log('start wait delay: %s ms', waitUntil.delay);\n      }\n\n      return {\n        stop: () => {\n          stopFunList.forEach(stop => stop());\n        },\n      };\n    }\n\n    startWaitSelector(selector: string, done: (err: Error) => void) {\n      // 如果检测到了，可以直接返回\n      if (document.querySelector(selector)) {\n        done(null);\n        return {\n          stop: () => {},\n        };\n      }\n\n      let timer = setInterval(() => {\n        const dom = document.querySelector(selector);\n\n        if (dom) {\n          clearInterval(timer);\n          return done(null);\n        }\n      }, 300);\n\n      return {\n        stop: () => clearInterval(timer),\n      };\n    }\n\n    startWaitDelay(ms: number, done: (err: Error) => void) {\n      let timer = setTimeout(() => done(null), ms);\n\n      return {\n        stop: () => clearTimeout(timer),\n      };\n    }\n\n    render() {\n      return this.state.isOk ? <Comp {...this.props} /> : null;\n    }\n  };\n\n  return NewComp as any;\n}\n\nexport function withStepProgress<T extends any>(Comp: T): T {\n  const NewComp = class extends Component<Props> {\n    cancelBind: Function;\n\n    componentDidMount() {\n      const { stop } = this.startBind();\n      this.cancelBind = stop;\n    }\n\n    componentWillUnmount() {\n      this.cancelBind && this.cancelBind();\n    }\n\n    startBind(): { stop: Function } {\n      const { nextStepTrigger } = this.props.data;\n\n      const done = (err: Error) => {\n        if (err) return;\n        this.setState({ isOk: true });\n      };\n\n      const stopFunList = [];\n\n      if (nextStepTrigger) {\n        const { stop } = this.startBindNextStepTrigger(nextStepTrigger, err => {\n          normalDebug.log('bind nextStepTrigger done: err=%s', err);\n          done(err);\n        });\n        stopFunList.push(stop);\n\n        normalDebug.log('start bind nextStepTrigger: %s', nextStepTrigger);\n      }\n\n      return {\n        stop: () => {\n          stopFunList.forEach(stop => stop());\n        },\n      };\n    }\n\n    startBindNextStepTrigger(nextStepTrigger: string, done: (err: Error) => void) {\n      const handleNext = (e: MouseEvent) => {\n        const target = e.target;\n        const dom = document.querySelector(nextStepTrigger);\n\n        if (dom && isEqualOrChild(target as any, dom as any)) {\n          normalDebug.log('nextStepTrigger clicked: selector=%s', nextStepTrigger);\n          this.handleNext();\n        }\n      };\n\n      document.body.addEventListener('click', handleNext);\n      done(null);\n\n      return {\n        stop: () => document.body.removeEventListener('click', handleNext),\n      };\n    }\n\n    handleCancel = () => {\n      this.props.onCancel && this.props.onCancel();\n    };\n\n    handleNext = () => {\n      this.props.onNext && this.props.onNext();\n    };\n\n    getProgressChild() {\n      const { nextStepTrigger } = this.props.data;\n      const isLast = this.props.stepIndex + 1 === this.props.stepTotal;\n\n      return [\n        <Button key='1' onClick={this.handleCancel} style={{ background: '#ccc' }}>\n          退出\n        </Button>,\n        nextStepTrigger ? null : (\n          <Button key='2' onClick={this.handleNext} style={{ marginLeft: '16px' }}>\n            {isLast ? '完成' : '下一步'}\n          </Button>\n        ),\n      ];\n    }\n\n    render() {\n      const progressChild = this.getProgressChild();\n\n      return <Comp {...this.props} progressChild={progressChild} />;\n    }\n  };\n\n  return NewComp as any;\n}\n\nexport function withResizeUpdate<T extends any>(Comp: T): T {\n  const NewComp = class extends Component<Props> {\n    removeListener: Function;\n\n    componentDidMount() {\n      this.removeListener = makeEventListener(this.handleResize, 'resize');\n    }\n\n    componentWillUnmount() {\n      this.removeListener && this.removeListener();\n    }\n\n    handleResize = debounce(() => {\n      normalDebug.log('update due to resize');\n      this.forceUpdate();\n    }, 500);\n\n    render() {\n      return <Comp {...this.props} />;\n    }\n  };\n\n  return NewComp as any;\n}\n\nexport function withAllStepHelper<T extends any>(Comp: T): T {\n  // withStepWaitUntil 会控制组件是否渲染，需要放在第一个位置\n  return [withStepWaitUntil, withStepZIndex, withStepProgress, withResizeUpdate].reduceRight(\n    (C, handler) => handler(C),\n    Comp\n  );\n}\n","import { h, Component } from 'preact';\nimport { StepComponentProps } from '../../../interface';\nimport { StepFocus } from '../focus';\nimport { makeIntervalPoll } from '../../../util';\n\nexport type Props = StepComponentProps['inputChecker'];\n\nexport interface State {\n  errors: Error[];\n}\n\nexport class StepInputChecker extends Component<Props, State> {\n  clearList: Function[] = [];\n  lastValue: string = '';\n\n  state: State = {\n    errors: [],\n  };\n\n  componentDidMount() {\n    // 组件挂载的时候，开始轮询检查 input 值\n    const stopInterval = makeIntervalPoll(this.validateValue, 800);\n\n    this.clearList.push(stopInterval);\n  }\n\n  componentWillUnmount() {\n    this.clearList.forEach(clear => clear());\n  }\n\n  getInputValue(): string {\n    const { valueCollect, valueCollectField = 'textContent' } = this.props.data;\n\n    const dom = document.querySelector(valueCollect);\n    if (!dom) return;\n\n    return dom[valueCollectField];\n  }\n\n  validateValue = () => {\n    const { rules } = this.props.data;\n    const value = this.getInputValue();\n\n    // 值相同就不需要校验了\n    if (value === this.lastValue) return;\n\n    const errors: Error[] = [];\n\n    // 逐一检查规则\n    rules.forEach(rule => {\n      // 正则检查\n      if (rule.pattern) {\n        // m: 允许跨行匹配\n        const reg = new RegExp(rule.pattern, 'm');\n        if (!reg.exec(value)) {\n          errors.push(new Error(rule.message || `不匹配 ${rule.pattern}`));\n        }\n      }\n    });\n\n    this.lastValue = value;\n    this.setState({ errors });\n  };\n\n  render() {\n    const { content } = this.props.data;\n    const { errors } = this.state;\n\n    const newContent =\n      content + (errors.length > 0 ? '<br/>' + errors.map(err => err.message).join('<br />') : '');\n\n    return (\n      <StepFocus\n        {...this.props}\n        data={{ ...this.props.data, type: 'focus', content: newContent }}\n        // 有错误就不显示“下一步”\n        progressChild={errors.length ? null : this.props.progressChild}\n      />\n    );\n  }\n}\n","import { h, Component, FunctionalComponent } from 'preact';\nimport { SceneDef, SceneStepDef, StepComponentProps } from './interface';\nimport { StepNotice, StepFocus, StepCarousel } from './component/step';\nimport { withAllStepHelper } from './component/step/hoc';\nimport { normalDebug } from './debug';\nimport { ThemeContext } from './component/provider/theme';\nimport { StepInputChecker } from './component/step/input-checker';\n\nconst stepComponentMap: { [type in keyof SceneStepDef]: any } = {\n  base: null,\n  notice: StepNotice,\n  focus: StepFocus,\n  carousel: StepCarousel,\n  inputChecker: StepInputChecker,\n};\n\nfunction getStepComponent(\n  type: keyof SceneStepDef\n): FunctionalComponent<StepComponentProps['base']> {\n  const Comp = stepComponentMap[type];\n\n  if (!Comp) return;\n\n  return withAllStepHelper(Comp) as any;\n}\n\nconst CANCEL_FLAG = -1;\n\nexport interface Props {\n  sceneData: SceneDef;\n\n  onNextStep?: (index: number) => void;\n  onFinish?: () => void;\n}\n\nexport interface State {\n  stepIndex?: number;\n}\n\nexport class App extends Component<Props, State> {\n  state: State = {\n    stepIndex: 0,\n  };\n\n  gotoNext() {\n    const stepIndex = this.state.stepIndex + 1;\n    this.setState({ stepIndex });\n\n    this.props.onNextStep && this.props.onNextStep(stepIndex);\n\n    normalDebug.log('gotoNext: stepIndex=%s', stepIndex);\n\n    if (stepIndex >= this.props.sceneData.steps.length) {\n      this.props.onFinish && this.props.onFinish();\n      normalDebug.log('scene is finish');\n    }\n  }\n\n  cancel() {\n    const stepIndex = CANCEL_FLAG;\n    this.setState({ stepIndex });\n  }\n\n  handleNext = () => {\n    this.gotoNext();\n  };\n\n  handleCancel = () => {\n    this.cancel();\n  };\n\n  render() {\n    const { sceneData } = this.props;\n    const { stepIndex } = this.state;\n\n    const currentStep = sceneData.steps[stepIndex];\n\n    if (!currentStep) {\n      normalDebug.info('currentStep is null');\n      return null;\n    }\n\n    normalDebug.info('currentStep: type=%s, index=%s', currentStep.type, stepIndex);\n\n    const StepComp = getStepComponent(currentStep.type);\n\n    return (\n      <ThemeContext.Provider value={sceneData.theme}>\n        {StepComp && (\n          <StepComp\n            // 赋予不同的 key，保证每个 Step 都是新的（生命周期里有副作用）\n            key={stepIndex}\n            data={currentStep as any}\n            stepIndex={stepIndex}\n            stepTotal={sceneData.steps.length}\n            onNext={this.handleNext}\n            onCancel={this.handleCancel}\n          />\n        )}\n      </ThemeContext.Provider>\n    );\n  }\n}\n","import { TopicType, PubCenterInterface, TopicHandler } from '../interface';\n\n/** 订阅发布中心 */\nexport class PubCenter implements PubCenterInterface {\n  private handlerMap: { [topic in TopicType]?: TopicHandler[] } = {};\n\n  /** 订阅 */\n  subscribe(topic: TopicType, handler: TopicHandler) {\n    if (!this.handlerMap[topic]) {\n      this.handlerMap[topic] = [];\n    }\n\n    const handlers = this.handlerMap[topic];\n\n    if (handlers.indexOf(handler) < 0) {\n      handlers.push(handler);\n    }\n\n    return this;\n  }\n\n  /** 发布 */\n  publish(topic: TopicType, data?: any) {\n    const handlers = this.handlerMap[topic];\n\n    if (handlers) {\n      handlers.forEach(handler => {\n        handler(topic, data);\n      });\n    }\n\n    return this;\n  }\n\n  /** 取消订阅 */\n  unSubscribe(topic: TopicType, handler: TopicHandler) {\n    const handlers = this.handlerMap[topic];\n\n    if (handlers) {\n      this.handlerMap[topic] = handlers.filter(h => h !== handler);\n    }\n\n    return this;\n  }\n}\n","import { ServiceInterface, SceneDef } from '../../interface';\n\nexport default class implements ServiceInterface {\n  private list: { name: string; data: SceneDef }[];\n\n  constructor(list: { name: string; data: SceneDef }[]) {\n    this.list = list;\n  }\n\n  async getScene(name: string) {\n    const res = this.list.find(d => d.name === name);\n    return res && res.data;\n  }\n}\n","export { default as MockService } from './adaptor/mock';\n","import { h, render } from 'preact';\nimport { AppConfig, TopicType } from './interface';\nimport { App } from './app';\nimport { PubCenter } from './pub';\nimport { normalDebug } from './debug';\n\nexport * from './interface';\nexport * from './service';\n\nfunction insertMountRoot(id: string = 'user-onboarding-root-' + new Date().valueOf()) {\n  const root = document.createElement('div');\n  root.id = id;\n\n  document.body.appendChild(root);\n\n  return root;\n}\n\nexport function createApp(config: AppConfig) {\n  const mount = insertMountRoot();\n\n  return (name: string) => {\n    const pub = new PubCenter();\n    let renderRoot: Element;\n\n    const api = {\n      /** 启动 */\n      start: () => {\n        normalDebug.log('Onboarding start: name=%s, mount=%s', name, mount.id);\n\n        (async () => {\n          const sceneData = await config.service.getScene(name);\n\n          normalDebug.info(\n            'Onboarding data ready: name=%s, stepCnt=%s',\n            name,\n            sceneData.steps.length\n          );\n\n          renderRoot = render(\n            <App\n              sceneData={sceneData}\n              onNextStep={(...args) => pub.publish('nextStep', ...args)}\n              onFinish={() => pub.publish('finish')}\n            />,\n            mount\n          );\n        })();\n\n        return api;\n      },\n\n      /** 停止 */\n      stop: () => {\n        // How to destroy root Preact node\n        // @see https://github.com/developit/preact/issues/1151\n        render(null, mount, renderRoot);\n\n        normalDebug.log('Onboarding stop');\n      },\n\n      /** 监听事件 */\n      on: (topic: TopicType, handler: (topic: TopicType, data: any) => void) => {\n        pub.subscribe(topic, handler);\n        return api;\n      },\n\n      /** 取消监听事件 */\n      off: (topic: TopicType, handler: (topic: TopicType, data: any) => void) => {\n        pub.unSubscribe(topic, handler);\n        return api;\n      },\n    };\n\n    return api;\n  };\n}\n"]}