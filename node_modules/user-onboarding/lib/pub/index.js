"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** 订阅发布中心 */
var PubCenter = /** @class */ (function () {
    function PubCenter() {
        this.handlerMap = {};
    }
    /** 订阅 */
    PubCenter.prototype.subscribe = function (topic, handler) {
        if (!this.handlerMap[topic]) {
            this.handlerMap[topic] = [];
        }
        var handlers = this.handlerMap[topic];
        if (handlers.indexOf(handler) < 0) {
            handlers.push(handler);
        }
        return this;
    };
    /** 发布 */
    PubCenter.prototype.publish = function (topic, data) {
        var handlers = this.handlerMap[topic];
        if (handlers) {
            handlers.forEach(function (handler) {
                handler(topic, data);
            });
        }
        return this;
    };
    /** 取消订阅 */
    PubCenter.prototype.unSubscribe = function (topic, handler) {
        var handlers = this.handlerMap[topic];
        if (handlers) {
            this.handlerMap[topic] = handlers.filter(function (h) { return h !== handler; });
        }
        return this;
    };
    return PubCenter;
}());
exports.PubCenter = PubCenter;
//# sourceMappingURL=index.js.map